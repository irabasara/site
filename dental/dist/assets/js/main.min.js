window.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll(".open-modal");const n=document.querySelectorAll(".modal"),o=document.querySelectorAll('form input[type="submit"]');e.forEach((e,t)=>{e.addEventListener("click",e=>{var t;e.preventDefault(),(t=n).style.display="flex",document.querySelector(".form-body-thanks").classList.remove("active"),document.querySelector(".form-body").classList.add("active"),o.forEach(e=>e.value="Відправити"),setTimeout(()=>{t.classList.add("show")},10)})}),document.addEventListener("click",e=>{var t;e=e,t=n,(e.target.classList.contains("close-btn")||e.target.classList.contains("modal")&&t.classList.contains("show"))&&(t.classList.remove("show"),setTimeout(()=>{t.style.display="none"},350))});let i,l;function s(e){var t=e.nextElementSibling;return/^[a-zA-Zа-яА-ЯіІїЇєЄ']{1,}( [a-zA-Zа-яА-ЯіІїЇєЄ']{1,})?$/.test(e.value.trim())?!(t.textContent=""):!(t.textContent="Будь ласка, введіть коректне імʼя.")}function c(e){var t=new RegExp(`^\\+?${i.dialCode}-\\d{3}-\\d{3}-\\d{3}$`),n=e.parentElement.nextElementSibling;return t.test(e.value)?!(n.textContent=""):!(n.textContent="Будь ласка, введіть коректний номер телефону.")}document.querySelectorAll(".phone").forEach((e,t)=>{l=t;const n=window.intlTelInput(e,{preferredCountries:["ua","pl"],initialCountry:"ua",utilsScript:"https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.21/js/utils.js"});i=n.getSelectedCountryData(),e.value="+"+i.dialCode,e.addEventListener("countrychange",function(){i=n.getSelectedCountryData(),e.value="+"+i.dialCode})}),[].forEach.call(document.querySelectorAll(".phone"),function(t){var s;function e(e){e.keyCode&&(s=e.keyCode);this.selectionStart;var t=`+${i.dialCode}-___-___-___`,n=0,l=t.replace(/\D/g,""),a=this.value.replace(/\D/g,""),r=t.replace(/[_\d]/g,function(e){return n<a.length?a.charAt(n++)||l.charAt(n):e}),n=r.indexOf("_"),o=i.dialCode.length+1,t=(-1!=n&&(n<o&&(n=1),r=r.slice(0,n)),t.substr(0,this.value.length).replace(/_+/g,function(e){return"\\d{1,"+e.length+"}"}).replace(/[+]/g,"\\$&"));(!(t=new RegExp("^"+t+"$")).test(this.value)||this.value.length<o||47<s&&s<58)&&(this.value=r),"blur"==e.type&&this.value.length<o&&(this.value="")}t.addEventListener("input",e,!1),t.addEventListener("focus",e,!1),t.addEventListener("blur",e,!1),t.addEventListener("keydown",e,!1),t.addEventListener("keydown",e=>{t.setSelectionRange(t.value.length,t.value.length)})}),document.querySelectorAll("form").forEach((e,l)=>{const a=e.querySelector(".username"),r=e.querySelector(".phone");a.addEventListener("blur",e=>{s(e.target)}),r.addEventListener("blur",e=>{c(e.target)}),e.addEventListener("submit",e=>{e.preventDefault();var t=s(a),n=c(r);t&&n?(o[l].value="Зачекайте...",setTimeout(()=>{document.querySelector(".form-body-thanks").classList.add("active"),document.querySelector(".form-body").classList.remove("active")},2e3)):e.preventDefault()})})});